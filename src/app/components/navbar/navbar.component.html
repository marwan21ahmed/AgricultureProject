<header>
  <nav class="bg-transparent">
    <div
      class="flex flex-wrap justify-between lg:justify-between w-full lg:gap-4 items-center mx-auto p-4 lg:px-14 lg:py-6"
    >
      <a
        routerLink="/"
        routerLinkActive="active"
        class="flex items-center cursor-pointer"
      >
        <img
          src="assets/images/logo.svg"
          class="h-12 sm:h-14"
          alt="CropCare Logo"
        />
      </a>
      <div class="lg:hidden flex items-center lg:order-2">
        <button
          type="button"
          class="inline-flex items-center p-2 ml-1 text-sm text-secondary rounded-lg lg:hidden focus:outline-none focus:ring-2 focus:ring-gray"
          aria-expanded="false"
          (click)="toggleMenu()"
        >
          <span class="sr-only">Open main menu</span>
          <svg
            class="w-6 h-6"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
              clip-rule="evenodd"
            ></path>
          </svg>
          <svg
            class="hidden w-6 h-6"
            fill="currentColor"
            viewBox="0 0 20 20"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </button>
      </div>

      <div
        class="hidden justify-between items-center w-full lg:flex font-medium lg:w-auto"
        [ngClass]="{ block: !isMenuCollapsed, hidden: isMenuCollapsed }"
      >
        <ul class="flex flex-col mt-2 text-sm lg:flex-row lg:space-x-6 lg:mt-0">
          <li>
            <a
              routerLink="/"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
              class="block py-2 pr-4 pl-3 text-secondary border-b border-gray lg:border-0 lg:p-0"
              (click)="toggleMenu()"
              aria-current="page"
              >Home</a
            >
          </li>

          <li>
            <a
              routerLink="/dashboard"
              routerLinkActive="active"
              class="block py-2 pr-4 pl-3 text-secondary border-b border-gray lg:border-0 lg:p-0"
              (click)="toggleMenu()"
              >Dashboard</a
            >
          </li>
          <li>
            <a
              routerLink="/features"
              routerLinkActive="active"
              class="block py-2 pr-4 pl-3 text-secondary border-b border-gray lg:border-0 lg:p-0"
              (click)="toggleMenu()"
              >Features</a
            >
          </li>
          <li>
            <a
              routerLink="/about"
              routerLinkActive="active"
              class="block py-2 pr-4 pl-3 text-secondary border-b border-gray lg:border-0 lg:p-0"
              (click)="toggleMenu()"
              >About</a
            >
          </li>
          <li>
            <a
              routerLink="/contact"
              routerLinkActive="active"
              class="block py-2 pr-4 pl-3 text-secondary lg:border-0 lg:p-0"
              (click)="toggleMenu()"
              >Contact</a
            >
          </li>
          <li>
            @if (!authService.isLoggedIn()) {
            <a
              routerLink="/login"
              class="lg:hidden block w-fit mt-2 bg-primary px-6 py-2 rounded-full font-semibold text-dark hover:bg-secondary hover:text-tertiary transition duration-300"
              (click)="toggleMenu()"
              >Sign In
            </a>
            }@else {
            <button
              class="lg:hidden block w-fit mt-2 bg-gray px-6 py-2 rounded-full font-semibold text-dark hover:bg-red-500 hover:text-light transition duration-300"
              (click)="signOut()"
            >
              Sign Out
            </button>
            }
          </li>
        </ul>
      </div>
      @if (!authService.isLoggedIn()) {
      <a
        routerLink="/login"
        class="hidden lg:block bg-dark px-6 py-2 rounded-full font-semibold text-light hover:bg-primary hover:text-dark transition duration-300"
        >Sign In
      </a>
      }@else {
      <button
        class="hidden lg:block w-fit mt-2 bg-gray px-6 py-2 rounded-full font-semibold text-dark hover:bg-red-500 hover:text-light transition duration-300"
        (click)="signOut()"
      >
        Sign Out
      </button>
      }
    </div>
  </nav>
</header>
